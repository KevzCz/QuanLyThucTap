@startuml Activity - PDT tạo tài khoản

skinparam ActivityDiagramTitleFontSize 16
skinparam swimlaneWidth same

|#LightBlue|Phòng Đào Tạo|
start

:Truy cập trang quản lý tài khoản;

note right: PDT có quyền quản lý\ntất cả các tài khoản

:Nhấn nút "Tạo tài khoản mới";

:Nhập họ tên người dùng;

:Nhập địa chỉ email;

:Nhập mật khẩu ban đầu;

:Chọn vai trò trong hệ thống:\n• Sinh viên\n• Giảng viên\n• Ban Chủ Nhiệm;

:Xác nhận tạo tài khoản;

|#LightGreen|Hệ thống|

:Kiểm tra tính hợp lệ\ncủa dữ liệu nhập;

if (Dữ liệu có hợp lệ?) then (Hợp lệ)
  
  :Kiểm tra email đã tồn tại\ntrong hệ thống chưa;
  
  if (Email đã được sử dụng?) then (Đã tồn tại)
    
    |#LightBlue|Phòng Đào Tạo|
    
    :Hiển thị lỗi:\n"Email này đã được sử dụng";
    
    note right: Mỗi email chỉ được\nsử dụng cho một tài khoản
    
    stop
    
  else (Chưa tồn tại)
    
    :Mã hóa mật khẩu\nbằng thuật toán bảo mật;
    
    :Tạo ID tài khoản duy nhất;
    
    :Lưu thông tin tài khoản\nvào cơ sở dữ liệu;
    
    :Đặt trạng thái tài khoản: "Đang hoạt động";
    
    |#LightBlue|Phòng Đào Tạo|
    
    :Hiển thị thông báo tạo thành công;
    
    :Hiển thị thông tin tài khoản\nvừa tạo để kiểm tra;
    
    note right: PDT có thể sao chép\nthông tin để gửi cho người dùng
    
    stop
    
  endif
  
else (Không hợp lệ)
  
  |#LightBlue|Phòng Đào Tạo|
  
  :Hiển thị các lỗi validation:\n• Email không đúng định dạng\n• Mật khẩu quá ngắn\n• Thiếu thông tin bắt buộc;
  
  stop
  
endif

@enduml
